<div class="card shadow-sm">
  <div class="card-header">
    <h3>Financial Statement</h3>
  </div>
  <div *ngIf="records && records.length > 0; else noData" class="card-body">
    <div class="table-responsive">
      <table class="table table-striped table-hover">
        <thead class="thead-dark">
        <tr>
          <th>Year</th>
          <th>Net Turnover</th>
          <th>Net Profit</th>
          <th>Total Expenses</th>
          <th>Liabilities</th>
          <th>Total Capital</th>
          <th>Fixed Assets</th>
          <th>Average Employees</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let record of records">
          <td><strong>{{ record.year }}</strong></td>
          <td>
            {{ record.netTurnover | number:'1.0-0' }}
          </td>

          <td [ngClass]="{'text-success': getDisplayProfit(record) >= 0, 'text-danger': getDisplayProfit(record) < 0}">
            {{ getDisplayProfit(record) | number:'1.0-0' }}
            <small *ngIf="record.netProfit === 0 && getDisplayProfit(record) !== 0" class="text-muted d-block">
              (calculated)
            </small>
          </td>

          <td>{{ record.totalExpenses | number:'1.0-0' }}</td>
          <td>{{ record.liabilities | number:'1.0-0' }}</td>
          <td>{{ record.totalCapital | number:'1.0-0' }}</td>
          <td>{{ record.fixedAssets | number:'1.0-0' }}</td>
          <td>{{ record.averageEmployees }}</td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
  <ng-template #noData>
    <div class="card-body text-center">
      <p class="text-muted">No financial records are available for the selected company.</p>
    </div>
  </ng-template>
</div>
